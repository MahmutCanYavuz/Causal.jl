<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Callback · Jusdl.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Jusdl.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Jusdl</a></li><li><a class="toctext" href="../buffers/">Buffer</a></li><li class="current"><a class="toctext" href>Callback</a><ul class="internal"><li><a class="toctext" href="#Callback-Construction-1">Callback Construction</a></li><li><a class="toctext" href="#Callback-Control-1">Callback Control</a></li><li><a class="toctext" href="#A-Simple-Example-1">A Simple Example</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Callback</a></li></ul><a class="edit-page" href="https://github.com//blob/master/docs/src/manual/callback.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Callback</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Callback-1" href="#Callback-1">Callback</a></h1><p><code>Callback</code>s are used to monitor the existence of a specific events and if that specific event occurs, some other special jobs are invoked. <code>Callback</code>s are intended to provide additional monitoring capability to any user-defined composite types. As such, <code>Callback</code>s are <em>generaly</em> fields of user defined composite types objects. When a <code>Callback</code> is called, if the <code>Callback</code> is enabled and its <code>condition</code> function returns true, then its <code>action</code> function is invoked. </p><h2><a class="nav-anchor" id="Callback-Construction-1" href="#Callback-Construction-1">Callback Construction</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jusdl.Utilities.Callback" href="#Jusdl.Utilities.Callback"><code>Jusdl.Utilities.Callback</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Callback[condition, action, [enabled::Bool, [name::String]])</code></pre><p>Constructs a <code>Callback</code> with <code>condition</code> and <code>action</code>. <code>condition</code> is a single-argument function that returns true when a specific event occurs and return false, otherwise. <code>action</code> is a single-argument function that performs some specific job. When <code>enabled</code> is false, <code>action</code> is deactivated. <code>name</code> is the name of the <code>Callback</code>.  Expected syntax for <code>condition</code> function  is </p><pre><code class="language-none">    function condition(obj) -&gt; Bool 
        Even occured ? 
            return true 
        Else 
            return false
    end</code></pre><p>and the expected signature for the <code>action</code> function is </p><pre><code class="language-none">    function action(obj)
        Do whatever you want with obj.
    end</code></pre></div></div></section><h2><a class="nav-anchor" id="Callback-Control-1" href="#Callback-Control-1">Callback Control</a></h2><p>A  <code>Callback</code> can be controlled, i.e., activated and deactivated.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jusdl.Utilities.enable!" href="#Jusdl.Utilities.enable!"><code>Jusdl.Utilities.enable!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">enable!(clb::Callback)</code></pre><p>Enables <code>clb</code>. If <code>clb</code> is enabled, <code>clb.action</code> is activated.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Jusdl.Utilities.disable!" href="#Jusdl.Utilities.disable!"><code>Jusdl.Utilities.disable!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">disable!(clb:Callback)</code></pre><p>Disables <code>clb</code>. If <code>clb</code> is disabled, <code>clb.action</code> is deactivated.</p></div></div></section><h2><a class="nav-anchor" id="A-Simple-Example-1" href="#A-Simple-Example-1">A Simple Example</a></h2><p>Let&#39;s define a test object first that has a field named <code>x</code> of type <code>Int</code> and named <code>callback</code> of type <code>Callback</code>. </p><pre><code class="language-julia">julia&gt; mutable struct TestObject
       x::Int
       callback::Callback
       end</code></pre><p>To construct an instance of <code>TestObject</code>, we need to construct a <code>Callback</code>. For that purpose, <code>condition</code> and <code>action</code> function must be defined. For this example, <code>condition</code> checks whether the <code>x</code> field is positive, and <code>action</code> prints a simple message saying that the <code>x</code> field is positive.</p><pre><code class="language-julia">julia&gt; condition(testobject) = testobject.x &gt; 0 
condition (generic function with 1 method)

julia&gt; action(testobject) = println(&quot;testobject.x is greater than zero&quot;) 
action (generic function with 1 method)</code></pre><p>Now a test object can be constructed</p><pre><code class="language-julia">julia&gt; testobject = TestObject(-1, Callback(condition, action))  
TestObject(-1, Callback{typeof(condition),typeof(action)}(condition, action, true, &quot;dac6f9eb-6daa-4622-a8fa-623f0f88780c&quot;))</code></pre><p>If the callback is called, no action is performed since the <code>condition</code> function returns false. Note the argument sent to the callback. The instance of the <code>TestObject</code> to which the callback is a bound.</p><pre><code class="language-julia">julia&gt; testobject.callback(testobject) </code></pre><p>Now mutate the test object so that <code>condition</code> returns true.</p><pre><code class="language-julia">julia&gt; testobject.x = 3   
3</code></pre><p>Now, if the callback is called, since the <code>condition</code> returns true and the callback is <code>enabled</code>, the <code>action</code> is invoked.</p><pre><code class="language-julia">julia&gt; testobject.callback(testobject) 
testobject.x is greater than zero</code></pre><footer><hr/><a class="previous" href="../buffers/"><span class="direction">Previous</span><span class="title">Buffer</span></a></footer></article></body></html>
